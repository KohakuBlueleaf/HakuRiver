# Comparison with Alternatives

KohakuRiver fills a specific niche: managing command-line tasks and interactive container sessions on small to medium-sized clusters (3-20 nodes) with minimal overhead. This guide compares it to other common tools.

---

## Quick Comparison

| Tool | Best For | Complexity | Scale |
|------|----------|------------|-------|
| **Manual SSH** | 1-3 machines | Very Low | Tiny |
| **KohakuRiver** | 3-20 nodes, batch tasks, VPS | Low | Small/Medium |
| **Slurm/PBS** | 100+ nodes, HPC workloads | Very High | Large |
| **Kubernetes** | Microservices, cloud-native apps | High | Any |
| **Ansible** | Configuration management | Medium | Any |

---

## Detailed Comparisons

### vs. Manual SSH/Scripts

**When SSH is enough:**
- You have 1-3 machines
- Tasks are ad-hoc and infrequent
- No need for reproducible environments

**When KohakuRiver is better:**
- More than 3 machines to manage
- Need centralized task tracking
- Want reproducible Docker environments
- Require on-demand interactive sessions (VPS)

| Aspect | Manual SSH | KohakuRiver |
|--------|-----------|-------------|
| Setup | None | Initial setup required |
| Task tracking | Manual | Centralized |
| Environment | Per-machine | Auto-synced Docker |
| Scaling | Becomes painful | Easy up to ~20 nodes |
| VPS sessions | Direct SSH per node | Unified proxy access |

---

### vs. HPC Schedulers (Slurm, PBS, LSF)

**When HPC schedulers are better:**
- Large clusters (100+ nodes)
- Complex job dependencies
- Tightly-coupled parallel jobs (MPI)
- Need sophisticated scheduling policies
- Multi-tenant shared clusters

**When KohakuRiver is better:**
- Small clusters (<20 nodes)
- Independent batch tasks
- Want minimal administrative overhead
- Need simple interactive environments
- Don't need complex job graphs

| Aspect | Slurm/PBS | KohakuRiver |
|--------|-----------|-------------|
| Setup complexity | Very High | Low |
| Admin overhead | Very High | Low |
| Scheduling | Sophisticated | Basic targeting |
| Job dependencies | Built-in | Use external tools |
| Learning curve | Steep | Gentle |
| Interactive | Requires config | Built-in VPS |

---

### vs. Container Orchestration (Kubernetes, Docker Swarm)

**When Kubernetes is better:**
- Deploying multi-service applications
- Need auto-scaling, self-healing
- Cloud-native microservices
- Rolling updates required
- Service discovery needed

**When KohakuRiver is better:**
- Running computational tasks
- Docker as environment, not app packaging
- Simple "run this command" needs
- Interactive development sessions
- Don't need service mesh complexity

| Aspect | Kubernetes | KohakuRiver |
|--------|------------|-------------|
| Primary purpose | App deployment | Task execution |
| Docker usage | App packaging | Environment sync |
| Complexity | High (Pods, Services, etc.) | Low |
| Task submission | Complex manifests | Simple CLI |
| Interactive | Requires setup | Built-in VPS |

---

### vs. Automation Tools (Ansible, Fabric)

**When Ansible is better:**
- Infrastructure provisioning
- Configuration management
- One-time setup tasks
- System administration

**When KohakuRiver is better:**
- Ongoing task execution
- Need persistent task tracking
- Want automatic environment sync
- Long-running jobs

| Aspect | Ansible | KohakuRiver |
|--------|---------|-------------|
| Purpose | Configuration | Task execution |
| Task tracking | None (fire-and-forget) | Persistent state |
| Environment | Scripted setup | Auto-synced Docker |
| Agent | Agentless | Runner agents |

**Best practice:** Use Ansible to set up nodes, then KohakuRiver to run tasks.

---

## Feature Comparison Matrix

| Feature | SSH | KohakuRiver | Slurm | K8s | Ansible |
|---------|-----|-------------|-------|-----|---------|
| **Setup complexity** | None | Low | Very High | High | Medium |
| **Scale** | <3 | 3-20 | 1000s | Any | Any |
| **Task submission** | Manual | CLI/Web | Batch | YAML | Playbook |
| **Status tracking** | None | Yes | Yes | Yes | No |
| **Environment sync** | Manual | Auto | External | Built-in | Scripted |
| **Resource limits** | None | CPU/Mem/GPU | Advanced | Advanced | None |
| **Job dependencies** | Manual | External | Built-in | Built-in | Scripted |
| **Interactive VPS** | Per-node | Proxied | Limited | Complex | None |
| **GPU support** | Manual | Built-in | Built-in | Plugin | Manual |
| **Web UI** | None | Yes | External | Dashboard | None |

---

## Decision Guide

### Choose KohakuRiver if you:

- Have 3-20 compute nodes
- Run independent batch tasks
- Need reproducible Docker environments
- Want simple interactive sessions (VPS)
- Don't want to manage complex infrastructure
- Value simplicity over features

### Choose something else if you:

| Requirement | Better Choice |
|-------------|---------------|
| 1-3 machines, simple tasks | Manual SSH |
| 100+ nodes | Slurm, PBS |
| Complex job DAGs | Airflow, Nextflow |
| Microservices deployment | Kubernetes |
| Infrastructure setup | Ansible |
| Multi-tenant production | Kubernetes with RBAC |

---

## Complementary Tools

KohakuRiver works well alongside:

| Tool | Use For |
|------|---------|
| **Ansible** | Initial node setup, Docker installation |
| **Snakemake/Nextflow** | Complex workflow orchestration |
| **Prometheus/Grafana** | External monitoring |
| **NFS/GlusterFS** | Shared storage backend |

---

## Next Steps

- [Installation Guide](2.%20installation.md) - Get started
- [Quick Start Guide](3.%20quick-start.md) - Run your first tasks
- [Core Concepts](4.%20concepts.md) - Understand the design
