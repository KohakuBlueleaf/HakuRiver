# Web Dashboard Guide

Optional web interface for visual cluster management.

---

## Setup

### Development

```bash
cd src/kohakuriver-manager
npm install
npm run dev
```

Access: `http://localhost:5173` (proxies `/api` to Host at `localhost:8000`)

### Production

```bash
npm run build
# Serve dist/ with web server, proxy /api/ to Host with WebSocket support
```

**Nginx config:**

```nginx
server {
    listen 80;
    root /var/www/kohakuriver;
    location / { try_files $uri $uri/ /index.html; }
    location /api/ {
        proxy_pass http://localhost:8000/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

---

## Views

| View | Features |
|------|----------|
| **Home** | Node summary, resource utilization, task counts |
| **Nodes** | Status, cores, memory, NUMA topology per node |
| **GPUs** | GPU utilization, temperature, memory per device |
| **Tasks** | Command task list, submission form, log viewer |
| **VPS** | VPS list with SSH ports, submission form |
| **Docker** | Host containers, tarballs, interactive shell |

---

## Task Submission Forms

**Command Tasks:** Command, args, target (node/NUMA/GPU), cores, memory, container, mounts, privileged

**VPS Tasks:** SSH public key, target, cores, memory, container

---

## Interactive Features

- Real-time view updates
- Live log streaming for running tasks
- Web terminal for container shell
- Task search and filtering

---

## Troubleshooting

| Issue | Solution |
|-------|----------|
| API connection fails | Check Host running, proxy config |
| WebSocket errors | Verify proxy upgrade headers |
| Shell not working | Check WebSocket proxy |
